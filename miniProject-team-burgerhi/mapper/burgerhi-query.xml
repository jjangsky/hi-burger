<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE properties SYSTEM "http://java.sun.com/dtd/properties.dtd">
<properties>
	<entry key="loginResult">
		SELECT
		       A.USER_NO
		     , A.USER_NAME
		     , A.USER_ID
		     , A.USER_PWD
		     , A.GRADE_NO
		     , A.USER_POINT
		     , A.PHONE
		     , A.USER_YN
		  FROM USER_TABLE A
		 WHERE A.USER_ID = ?
		   AND A.USER_PWD = ?
		   AND A.USER_YN = 'Y'
	</entry>
	
	<entry key="selectAllCategory">
		SELECT A.CATEGORY_CODE
		     , A.CATEGORY_NAME
		     , A.REF_CATEGORY_CODE
		     , B.CATEGORY_NAME
		  FROM CATEGORY_TABLE A
		  LEFT JOIN CATEGORY_TABLE B ON(A.REF_CATEGORY_CODE = B.CATEGORY_CODE)
		 ORDER BY 1
	</entry>
	
	<entry key="selectMenuBy">
		SELECT
		       A.MENU_CODE
		     , A.MENU_NAME
		     , A.PRICE
		     , A.MENU_EXPLAIN
		     , A.CATEGORY_CODE
		     , A.ORDERABLE
		  FROM MENU_TABLE A
		 WHERE A.CATEGORY_CODE = ?
	</entry>
	
	<entry key="insertOrderMenu">
		INSERT
		  INTO ORDER_MENU_TABLE
		(
		  ORDER_MENU_NO
		, USER_NO
		, MENU_CODE
		, ORDER_AMOUNT
		)
		VALUES
		(
		  SEQ_ORDER_MENU_NO.NEXTVAL
		, ?
		, ?
		, ?
		)
	</entry>
	
	<entry key="selectOrderMenuPrice">
	    SELECT
     	       A.PRICE
 	      FROM MENU_TABLE A
 	     WHERE A.MENU_CODE = ?
	</entry>
	
	<entry key="selectOrderMenu">
		SELECT
		  	   A.ORDER_MENU_NO
		  	 , A.MENU_CODE
    		 , B.MENU_NAME
    		 , A.ORDER_AMOUNT
    		 , B.PRICE
  		  FROM ORDER_MENU_TABLE A
          JOIN MENU_TABLE B ON (A.MENU_CODE = B.MENU_CODE)
	</entry>
	
	<entry key="deleteOrderMenu">
 		DELETE
 		  FROM ORDER_MENU_TABLE A
 		 WHERE A.MENU_CODE = ?
	</entry>
	
	<entry key="selectGrade">
		
	</entry>
	
	<entry key="selectCard">
		
	</entry>
	
	<entry key="selectAllCard">
		SELECT
 		      A.CARD_CODE
 		    , A.CARD_BANK
 		    , A.CARD_DISCOUNT
 		    , A.CARDABLE
		  FROM CARD_TABLE A
	</entry>
	
	<entry key="insertOrder">
        INSERT
          INTO ORDER_TABLE A
        (
          A.ORDER_CODE
        , A.ORDER_DATE
        , A.TOTAL_PRICE
        )
        VALUES
        (
          SEQ_ORDER_CODE.NEXTVAL
        , ?
        , ?
        )
	</entry>
	<entry key="selectLastOrderCode">
        SELECT
     		   MAX(A.ORDER_CODE)
 		  FROM ORDER_TABLE A
	</entry>
	<entry key="insertPayment">
        INSERT
          INTO PAYMENT_TABLE A
        (
          A.ORDER_CODE
        , A.USER_NO
        , A.TOTAL_PRICE
        , A.GRADE_NO
        , A.CARD_CODE
        , A.PAYMENT_PRICE
        , A.PAYMENT_BY
        )
        VALUES
        (
          ?
        , ?
        , ?
        , ?
        , ?
        , ?
        , ?
        )
	</entry>
	<entry key ="selectGifticonBy">
	    SELECT
   	           A.GIFTICON_NO
  	         , A.GIFTICON_PRICE
  	      FROM GIFTICON_TABLE A
 	     WHERE A.GIFTICON_NO = ?
	</entry>
	<entry key="updateGifticonPrice">
	    UPDATE GIFTICON_TABLE A
   	       SET A.GIFTICON_PRICE = ?
	     WHERE A.GIFTICON_NO = ?
	</entry>
	<entry key="insertCategory">
	    INSERT
	      INTO CATEGORY_TABLE A
	    (
	      A.CATEGORY_CODE
	    , A.CATEGORY_NAME
	    , A.REF_CATEGORY_CODE
	    )
	    VALUES
	    (
	      SEQ_CATEGORY_CODE.NEXTVAL
	    , ?
	    , ?
	    )
	</entry>
	<entry key="updateCategory">
		UPDATE CATEGORY_TABLE A
		   SET A.CATEGORY_NAME = ?
		     , A.REF_CATEGORY_CODE = ?
		 WHERE A.CATEGORY_CODE = ?
	</entry>
	<entry key="deleteCategory">
	    DELETE 
	      FROM CATEGORY_TABLE A
	     WHERE A.CATEGORY_NAME = ?
	</entry>
	<entry key="selectAllMenu">
	    	SELECT 
                   MENU_CODE
                 , MENU_NAME
                 , PRICE
                 , MENU_EXPLAIN
                 , CATEGORY_CODE
                 , ORDERABLE
              FROM MENU_TABLE
	</entry>
	<entry key="insertMenu">
	    	INSERT
              INTO MENU_TABLE
            ( 
              MENU_CODE
            , MENU_NAME
            , PRICE
            , MENU_EXPLAIN
            , CATEGORY_CODE
            , ORDERABLE
            )
            VALUES
            (
              SEQ_MENU_CODE.NEXTVAL
            , ?                      
            , ?                      
            , ?                      
            , ?                      
            , ?                      
            )
	</entry>
	<entry key="updateMenu">
	    	UPDATE
              MENU_TABLE
               SET MENU_NAME = ?
                 , PRICE = ?
                 , MENU_EXPLAIN = ?
                 , CATEGORY_CODE = ?
                 , ORDERABLE = ?
              WHERE MENU_CODE = ?
	</entry>
	<entry key="deleteMenu">
	    	DELETE
              FROM MENU_TABLE
             WHERE MENU_NAME = ?
	</entry>
	<entry key="selectHambergerRanking">
	    SELECT 
 	           A.MENU_CODE
 	         , A.MENU_NAME 
 	         , B.PAYMENT_PRICE
 	         , RANK() OVER (ORDER BY B.PAYMENT_PRICE DESC) 매출순위
 	      FROM MENU_TABLE A
 	      JOIN SALES_AMOUNT_TABLE C ON (A.MENU_CODE = C.MENU_CODE)
 	      JOIN PAYMENT_TABLE B ON (B.ORDER_CODE = C.ORDER_CODE)
 	     WHERE A.CATEGORY_CODE = 1
 	     ORDER BY MENU_CODE ASC
	</entry>
	<entry key="selectMonthSales">
	    SELECT
 	          SUM(TOTAL_ORDER_PRICE)
 	     FROM TBL_ORDER
 	    WHERE ORDER_DATE LIKE '22/' || ? || '/%'
	</entry>
	<entry key="selectGradeSales">
	    SELECT  
   	           SUM(PAYMENT_PRICE)
 	      FROM PAYMENT_TABLE
 	     GROUP BY GRADE_NO
 	     ORDER BY GRADE_NO ASC
	</entry>
	<entry key="deleteAllOrderMenu">
	    DELETE
	      FROM ORDER_MENU_TABLE
	</entry>
	
	<entry key="selectUserBy">
	    SELECT
   	           A.USER_NO
   	         , A.USER_NAME
    	     , A.USER_ID
   	 		 , RPAD(SUBSTR(A.USER_PWD,1, 4), 10 , '#')
   	 		 , B.GRADE_NAME
 	         , A.USER_POINT
 	         , A.PHONE
  	     FROM USER_TABLE A
  	     JOIN GRADE_TABLE B ON (A.GRADE_NO = B.GRADE_NO)
 	     WHERE A.USER_NO = ?
	</entry>
	
	<entry key="updateUserInfo">
	    UPDATE
	           USER_TABLE A
	       SET A.USER_PWD = ?
	         , A.PHONE = ?
	     WHERE A.USER_NO = ?
	</entry>
	
	<entry key="deleteUserBy">
	    UPDATE
	           USER_TABLE A
	       SET A.USER_YN = 'N'
	     WHERE A.USER_NO = ?
	</entry>
	
	<entry key="selectCard">
	    SELECT
	    	   A.CARD_CODE
	    	 , A.CARD_BANK
	    	 , A.CARD_DISCOUNT
	    	 , A.CARDABLE
	      FROM CARD_TABLE A
	     WHERE A.CARDABLE = 'Y'
	</entry>
	<entry key="selectGrade">
	    SELECT
  	           A.DISCOUNT
 	      FROM GRADE_TABLE A
  	     WHERE A.GRADE_NO = ?
	</entry>
	<entry key="insertUser">
	    INSERT
          INTO USER_TABLE
        (
          USER_NO
        , USER_NAME
        , USER_ID
        , USER_PWD
        , PHONE
        )
        VALUES
        (
          SEQ_USER_NO.NEXTVAL
        , ?
        , ?
        , ?
        , ?
        )
	</entry>
	<entry key="selectNonMemberGradeNo">
	    SELECT
	           A.GRADE_NO
	      FROM GRADE_TABLE A
	     WHERE A.DISCOUNT = 0
	</entry>
	<entry key="insertNonMemberUser">
	    INSERT
	      INTO USER_TABLE
	    (
	      USER_NO
	    , GRADE_NO
	    , USER_POINT
	    , USER_YN
	    )
	    VALUES
	    (
	      SEQ_USER_NO.NEXTVAL
	    , ?
	    , ?
	    , ?
	    )
	</entry>
	
	<entry key="selectNonMemberUserNo">
	    SELECT
      	       MAX(A.USER_NO)
  	      FROM USER_TABLE A
	</entry>
	<entry key="insertSalesAmount">
	    INSERT
 	     INTO SALES_AMOUNT_TABLE
	    (
 	      SALES_AMOUNT_NO
	    , ORDER_CODE
	    , MENU_CODE
	    , MENU_AMOUNT
	    , MENU_PRICE
	    )
	    VALUES
	    (
	      SEQ_SALES_AMOUNT_NO.NEXTVAL
	    , ?
	    , ?
	    , ?
	    , ?
	    )
	</entry>
</properties>
